<!DOCTYPE html>
<html lang="en">
<head>
  
  <%- include('../partials/head'); %>
  <script>
          function populate(s1,s2){
      var s1 = document.getElementById(s1);
      var s2 = document.getElementById(s2);
      s2.innerHTML = "";
      
      if(s1.value == "Lagos"){
          var optionArray = ["|Any","Abijo GRA|Abijo GRA", "Abraham Adesanya|Abraham Adesanya","Ibeju Lekki|Ibeju Lekki","Ibeshe|Ibeshe", "Ikate Elegushi|Ikate Elegushi","Lakowe|Lakowe","LBS Ajah|LBS Ajah","Lekki|Lekki","Ogudu GRA|Ogudu GRA","Orchid Road|Orchid Road","Sangotedo|Sangotedo", "VGC|VGC", "Yaba|Yaba"];
      } else if(s1.value == "Abuja"){
          var optionArray = ["|Any","Guzape|Guzape","Life Camp|Life Camp","Lugbe|Lugbe"];
      }
      for(var option in optionArray){
          var pair = optionArray[option].split("|");
          var newOption = document.createElement("option");
          console.log("value", )
          newOption.value = pair[0];
          newOption.innerHTML = pair[1];
          s2.options.add(newOption);
      }
  }
  
      
  </script>
</head>
<body>

  <!-- ======= Header ======= -->
    <%- include('../partials/header'); %>
  <!-- ======= Testimonials Section ======= -->
  <section class="testimonials">
    <div class="container" data-aos="zoom-in">

      <div class="testimonial row" data-aos="fade-up" data-aos-delay="100">
        <p class="testimonialH1 row">Find Your Dream Home</p>
        <p class="testimonialH2 row">Africa's Trusted Property Marketplace</p>
    </div>
    <br>
      <form method="post" action="/filter" >
    <div class="row">

        <div class="col-lg-1  "></div>
        <div class="col-lg-2 "> 
          <label for="exampleInputPassword1" class="form-label" style="color: white; font-size:13px; font-weight:500; " >State</label><br>
          <select class="form-select form-select-md mb-3 filter rounded-0" id="slct1" name="state" onchange="populate(this.id,'slct2')">
            <option value="" >Pick State</option>
            <option value="Lagos">Lagos</option>
            <option value="Abuja">Abuja</option>
          
            
          </select>
      </div>
   
   
        <div class="col-lg-2  col-sm-12 col-xs-12 col-md-12 ">
          <label  class="form-label" style="color: white; font-size:13px; font-weight:500; ">Area</label><br>
        
          <select class="form-select form-select-md mb-3 filter rounded-0" aria-label=".form-select-lg example" id="slct2" name="area" >
          </select>

        </div>
        <div class="col-lg-2  col-sm-12 col-xs-12 col-md-12">
          <label  class="form-label" style="color: white; font-size:13px; font-weight:500; ">Min. Price (₦)</label><br>
          <input class="filter" name="minPrice" type="number" value="0">
         
        </div>
        <div class="col-lg-2  col-sm-12 col-xs-12 col-md-12">
          <label  class="form-label" style="color: white; font-size:13px; font-weight:500; ">Max. Price (₦)</label><br>
          <input class="filter" name="maxPrice" type="number" >
        </div>
        <div class="col-lg-2  col-sm-12 col-xs-12 col-md-12">
          <label class="form-label" style="color: white; font-size:13px; font-weight:500; visibility: hidden; " >Max. Price</label> <br>
          <input class="btn btn-success filter1" style="color: white; font-size:13px; font-weight:500; " type="submit" value="Submit">
        </div>
        <div class="col-lg-1  col-sm-12 col-xs-12 col-md-12"></div>
      </div>


      </form>
     
    </div>
  </section><!-- End Testimonials Section -->


<!-- ======= Team Section ======= -->

<section id="team" class="team section-bg">
  <div class="container" data-aos="fade-up">

    <%if ( allData.length == 0) { %>
      <div class="row">
      <div class="col-lg-4"></div>
      <div class="col-sm-12 col-lg-4">
        <div class="alert-message alert-message-danger">
            <h4>
                Error Message!</h4>
            <p>
               <strong>
                No Data to Display
               </strong>
              </p>
        </div>
    </div>
    <div class="col-lg-4"></div>

  </div>
      <% } %>

    <div class="row">
  <% for(var i=0; i < allData.length; i++) { %>
     
      <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="fade-up" data-aos-delay="100">
        <div class="member">
          <div class="member-img">

            <div id="carouselExampleIndicators<%= [i] %>" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 0"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="1" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="2" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="3" aria-label="Slide 3"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="4" aria-label="Slide 4"></button>
              </div>
              <div class="carousel-inner">

                <div class="carousel-item active">
                  <img src="https://drive.google.com/uc?export=view&id=<%= allData[i].photos[0] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= allData[i].photos[1] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= allData[i].photos[2] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= allData[i].photos[3] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= allData[i].photos[4] %>" style="height: 450px; width:450px;" alt="...">
                </div>
              
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            <div class="top-left"><%= allData[i].propertyType %></div>
            <div class="top-right"><%= allData[i].status %> </div>



            </div>
          </div>
        <a href="http://localhost:3000/show/<%= allData[i].propertyCode %>" style="color: black;">

          <div class="member-info">
            <div class="under">
              <h2 id="price"> ₦<%= allData[i].propertyPrice %> </h2>
              <div  id="icons-block">
              
                 <i class="fa-solid fa-bed"> <%= allData[i].numberOfBedroom %></i> &nbsp;
                <i class="fa-solid fa-bath"> <%= allData[i].quantityAvailableUnits %></i> &nbsp;
              </div>
            </div>

            <div class="under1">
              <span> <%= allData[i].propertyName %> </span> &nbsp; &#183; &nbsp; 
              <span> <%= allData[i].developer %> </span> 
  
            </div>
         
         
          </div>
      </a>

        </div>
      </div>

      <% } %>
     
        </div>
      </div>
    
 
</section><!-- End Team Section -->






  <!-- ======= Footer ======= -->
  <%- include('../partials/footer'); %>
</body>

</html>

 


