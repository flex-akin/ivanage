
  <div class="container" data-aos="fade-up">
    <script>
        $(document).ready(function () {
          $("#next").on("click", function (event) {
        const nPage = "<%= pages.nextPage %>"
      
            $.ajax({
              url: `/api/list/lists/${nPage}`,
              method: "get",
              contentType: "application/json",
      
              success: function (res) {
                console.log(res)
                $("#team").html(res);
              },
            });
          });
        });
      </script>
      <script>
        $(document).ready(function () {
          $("#previuos").on("click", function (event) {
        const pPage = "<%= pages.prevPage %>"
      
            $.ajax({
              url: `/api/list/lists/${pPage}`,
              method: "get",
              contentType: "application/json",
      
              success: function (res) {
                console.log(res)
                $("#team").html(res);
              },
            });
          });
        });
      </script>
    

    <%if ( pages.docs.length == 0) { %>
      <div class="row">
      <div class="col-lg-4"></div>
      <div class="col-sm-12 col-lg-4">
        <div class="alert-message alert-message-danger">
            <h4>
              <strong>
                Property Unavailable
               </strong>
          
        </div>
    </div>
    <div class="col-lg-4"></div>

  </div>
      <% } %>

    <div class="row">
  <% for(var i=0; i < pages.docs.length; i++) { %>
     
      <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="fade-up" data-aos-delay="100">
        <div class="member">
          <div class="member-img">
            <a href="/show/<%= pages.docs[i].propertyCode %>" style="color: black;">

            <div id="carouselExampleIndicators<%= [i] %>" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 0"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="1" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="2" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="3" aria-label="Slide 3"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide-to="4" aria-label="Slide 4"></button>
              </div>
              <div class="carousel-inner">

                <div class="carousel-item active">
                  <img src="https://drive.google.com/uc?export=view&id=<%= pages.docs[i].photos[0] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= pages.docs[i].photos[1] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= pages.docs[i].photos[2] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= pages.docs[i].photos[3] %>" style="height: 450px; width:450px;" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="https://drive.google.com/uc?export=view&id=<%= pages.docs[i].photos[4] %>" style="height: 450px; width:450px;" alt="...">
                </div>
              
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators<%= [i] %>" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            <div class="top-left"><%= pages.docs[i].propertyType %></div>
            <div class="top-right"><%= pages.docs[i].status %> </div>



            </div>
          </div>

          <div class="member-info">
            <div class="under">
              <h2 id="price<%= [i]%>" class="price">  </h2>
              <script>

                  var x = " <%= pages.docs[i].propertyPrice %> " 
                function numberWithCommas(x) {
                 a = x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                 b = `â‚¦${a}`
                 return b.replace(/\s/g, '')
                  }

                    document.getElementById("price<%= [i]%>").innerText = numberWithCommas(x)
              </script>
              <div  id="icons-block">
              
                 <i class="fa-solid fa-bed"> <%= pages.docs[i].numberOfBedroom %></i> &nbsp;
                <i class="fa-solid fa-bath"> <%= pages.docs[i].numberOfBedroom %></i> &nbsp;
              </div>
            </div>

            <div class="under1">
              <span> <%= pages.docs[i].propertyName %> </span> &nbsp; &#183; &nbsp; 
              <span> <%= pages.docs[i].developer %> </span> 
  
            </div>
         
         
          </div>
      </a>

        </div>
      </div>

      <% } %>
     
        </div
      </div>
      <div>
        <button id="previuos" class="btn btn-warning"> Previous</button>
        
        <button id="next" class="btn btn-success"> Next</button>
        <strong> <%= pages.page %> of <%= pages.totalPages %> </strong>        
      </div>
    
     

<script>
    

    x = '<%= pages.prevPage %>'
    y = '<%= pages.nextPage %>'

    if (x == "") {
        but = document.getElementById('previuos')
    but.style.display = 'none'
    }
    if (y == "") {
        but = document.getElementById('next')
    but.style.display = 'none'
    }


   
 </script>






